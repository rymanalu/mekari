"use strict";function getTodos(){return new Promise(function(t){request("/api/todos").then(function(o){todos=o,t()})["catch"](function(o){todos=[],t()})})}function renderTodoList(){return new Promise(function(t){if(todoListEl.empty(),todos.length>0){var o=todos.map(function(t){var o=t.task,n="",e='<a href="#" style="text-decoration:none; color:red;" title="Delete">\n          [<i class="glyphicon glyphicon-trash"></i>]\n        </a>';return t.done&&(o="<del>"+t.task+"</del>",n=" checked"),'<div class="checkbox">\n          <label>\n            <input type="checkbox"'+n+"> "+o+" "+e+"\n          </label>\n        </div>"}).join("");todoListEl.append(o),todoListEl.append('<button class="btn btn-danger">Delete Selected</button>')}else todoListEl.append("You have no todo for now.");t()})}function saveTodo(){var t=taskFieldEl.val();return new Promise(function(o,n){return t.length<1?void n("Todo shouldn't empty."):void request("/api/todos","POST",{task:t}).then(function(t){o(t)})["catch"](function(t){n(t)})})}function mounted(){renderTodoList().then(function(){getTodos().then(function(){renderTodoList()})})}var todos=[],todoListEl=$("#todo-list"),taskFieldEl=$("#task"),submitBtnEl=$("#submit");submitBtnEl.click(function(){saveTodo().then(function(){taskFieldEl.val(""),getTodos().then(function(){renderTodoList()})})["catch"](function(t){alert(t)})}),$(document).ready(function(){mounted()});