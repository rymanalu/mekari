{"version":3,"sources":["todo.js"],"names":["todos","todoListEl","$","getTodos","Promise","request","then","data","resolve","catch","console","error","err","renderTodoList","empty","length","todoList","map","task","todo","checked","delEl","done","join","append","mounted","document","ready"],"mappings":";;AAAA,IAAAA,QAAA,EAAA;AACA,IAAAC,aAAAC,EAAA,YAAA,CAAA;;AAEA,SAAAC,QAAA,GAAA;AACA,SAAA,IAAAC,OAAA,CAAA,mBAAA;AACAC,YAAA,YAAA,EAAAC,IAAA,CAAA,gBAAA;AACAN,cAAAO,IAAA;;AAEAC;AACA,KAJA,EAIAC,KAJA,CAIA,eAAA;AACAC,cAAAC,KAAA,CAAAC,GAAA;;AAEAZ,cAAA,EAAA;;AAEAQ;AACA,KAVA;AAWA,GAZA,CAAA;AAaA;;AAEA,SAAAK,cAAA,GAAA;AACA,SAAA,IAAAT,OAAA,CAAA,mBAAA;AACAH,eAAAa,KAAA;;AAEA,QAAAd,MAAAe,MAAA,GAAA,CAAA,EAAA;AACA,UAAAC,WAAAhB,MAAAiB,GAAA,CAAA,gBAAA;AAAA,YACAC,IADA,GACAC,IADA,CACAD,IADA;;AAEA,YAAAE,UAAA,EAAA;AACA,YAAAC,mJAAA;;AAIA,YAAAF,KAAAG,IAAA,EAAA;AACAJ,2BAAAC,KAAAD,IAAA;AACAE,oBAAA,UAAA;AACA;;AAEA,iGAEAA,OAFA,UAEAF,IAFA,SAEAG,KAFA;AAKA,OAjBA,EAiBAE,IAjBA,CAiBA,EAjBA,CAAA;;AAmBAtB,iBAAAuB,MAAA,CAAAR,QAAA;AACAf,iBAAAuB,MAAA;AACA,KAtBA,MAsBA;AACAvB,iBAAAuB,MAAA,CAAA,2BAAA;AACA;;AAEAhB;AACA,GA9BA,CAAA;AA+BA;;AAEA,SAAAiB,OAAA,GAAA;AACAZ,mBAAAP,IAAA,CAAA,YAAA;AACAH,eAAAG,IAAA,CAAA,YAAA;AACAO;AACA,KAFA;AAGA,GAJA;AAKA;;AAEAX,EAAAwB,QAAA,EAAAC,KAAA,CAAA,YAAA;AACAF;AACA,CAFA","file":"todo.js","sourcesContent":["let todos = [];\nconst todoListEl = $('#todo-list');\n\nfunction getTodos() {\n  return new Promise(resolve => {\n    request('/api/todos').then(data => {\n      todos = data;\n\n      resolve();\n    }).catch(err => {\n      console.error(err);\n\n      todos = [];\n\n      resolve();\n    });\n  })\n}\n\nfunction renderTodoList() {\n  return new Promise(resolve => {\n    todoListEl.empty();\n\n    if (todos.length > 0) {\n      const todoList = todos.map(todo => {\n        let { task } = todo;\n        let checked = '';\n        const delEl = `<a href=\"#\" style=\"text-decoration:none; color:red;\" title=\"Delete\">\n          [<i class=\"glyphicon glyphicon-trash\"></i>]\n        </a>`;\n\n        if (todo.done) {\n          task = `<del>${todo.task}</del>`;\n          checked = ' checked';\n        }\n\n        return `<div class=\"checkbox\">\n          <label>\n            <input type=\"checkbox\"${checked}> ${task} ${delEl}\n          </label>\n        </div>`;\n      }).join('');\n\n      todoListEl.append(todoList);\n      todoListEl.append(`<button class=\"btn btn-danger\">Delete Selected</button>`);\n    } else {\n      todoListEl.append('You have no todo for now.');\n    }\n\n    resolve();\n  });\n}\n\nfunction mounted() {\n  renderTodoList().then(() => {\n    getTodos().then(() => {\n      renderTodoList();\n    });\n  });\n}\n\n$(document).ready(() => {\n  mounted();\n});\n"]}